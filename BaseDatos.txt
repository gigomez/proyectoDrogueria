CREATE USER DB_DROGUERIA_KONEX IDENTIFIED BY 1234 
DEFAULT TABLESPACE "USERS"
TEMPORARY TABLESPACE "TEMP";

GRANT ALL PRIVILEGES to
DB_DROGUERIA_KONEX;


CREATE TABLE "DB_DROGUERIA_KONEX"."MEDICAMENTO"
(	
"ID_MEDICAMENTO" NUMBER(6,0) NOT NULL ENABLE,
"NOMBRE" VARCHAR2(50 BYTE) NOT NULL  ENABLE, 
"LABORATORIO" VARCHAR2(50 BYTE) NOT NULL  ENABLE, 
"FECHA_FABRICACION" date,
"FECHA_VENCIMIENTO" date,
"CANTIDAD_STOCK" NUMBER(3,0) NOT NULL  ENABLE,
"VALOR_UNITARIO" NUMBER(10,0) NOT NULL  ENABLE,
CONSTRAINT "MEDICAMENTO_PK" PRIMARY KEY ("ID_MEDICAMENTO")
);


--Crear una secuencia para utilizarla como incremento del identificador MEDICAMENTO
CREATE SEQUENCE "DB_DROGUERIA_KONEX"."SEQ_MEDICAMENTO" MINVALUE 1 START WITH 1  INCREMENT BY 1 NOCACHE;


CREATE TABLE "DB_DROGUERIA_KONEX"."VENTA"
(	
"ID_VENTA" NUMBER(6,0) NOT NULL ENABLE, 
"ID_MEDICAMENTO" NUMBER(6,0) NOT NULL ENABLE,
"CANTIDAD_COMPRADA" NUMBER(10)NOT NULL ENABLE,
"FECHA_VENTA" date,
"VALOR_UNITARIO" NUMBER(10,0),
"VALOR_TOTAL" NUMBER(10,0) ,
CONSTRAINT "VENTA_PK" PRIMARY KEY ("ID_VENTA")
);


ALTER TABLE DB_DROGUERIA_KONEX.VENTA ADD CONSTRAINT FK_ID_MEDICAMENTO FOREIGN KEY(ID_MEDICAMENTO) REFERENCES MEDICAMENTO(ID_MEDICAMENTO);

--Crear una secuencia para utilizarla como incremento del identificador MEDICAMENTO
CREATE SEQUENCE "DB_DROGUERIA_KONEX"."SEQ_VENTAS" MINVALUE 1 START WITH 1  INCREMENT BY 1 NOCACHE;